<!doctype html>

<html>
<head>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="http://js.arcgis.com/3.9/js/dojo/dijit/themes/claro/claro.css" />
	<link rel="stylesheet" href="http://js.arcgis.com/3.9/js/esri/css/esri.css" />
	<link rel="stylesheet" type="text/css" href="./css/aii.css" />
	<script>
		var dojoConfig = {
			async : true,
			//baseUrl: "/js/",
			tlmSiblingOfDojo : false,
			//isDebug : 0,
			packages : [{
				name : "js",
				location : "/../js"
			}]
			};
	</script>
	<script src="./lib/CSInterface-4.0.0.js"></script>
	<script src="./ext.js"></script>
	<script type="text/javascript" src="http://js.arcgis.com/3.9/"></script>
	<script type="text/javascript">
		require( ["dojo/parser", "js/aiiController", "dijit/layout/BorderContainer", "dijit/layout/StackContainer", "dijit/layout/ContentPane"], function ( parser, aiiController) {
			// Explicitly parse the page first
			parser.parse();
			// now configure the dijits and tasks
			aiiController.startup();
			//esri.config.defaults.io.proxyUrl = "proxy/proxy.ashx";
		} );
	</script>

	<title>MCSExtension</title>
</head>

<body class="claro" onload="onLoaded()">
	<div id="content" data-dojo-type="dijit/layout/BorderContainer" data-dojo-props="gutters:false, liveSplitters:false" style="width:100%;height:100%;">
		<div id="header" data-dojo-type="dijit.layout.ContentPane" data-dojo-props="splitter:false, region:'top'" title="" >
			<div class="searchPane">
				<span class="searchCtrl" > <!-- IE7: workaround for inherited margin bug: http://positioniseverything.net/explorer/inherited_margin.html -->
					<input type="text" class="text" id="searchText" tabindex="1"/>
				</span>
				<input type="submit" title="Start searching" name="submit" value="Search" class="search-button" disabled='disabled' id="findResults" tabindex="2"/>
			</div>
			<div class="logo">
				<div id="links" class="headerLinks">
					<span tabindex="50" id="addRect" class="buttonBlue" >
					</span>
					<span tabindex="51" id="downLoadBtn" class="buttonBlue" >
					</span>
        			<div id = "prg_container" >
					    <progress ></progress>
				    </div>

				</div>
				<img id="logoImg" src="./images/esri-logo.png" alt="" style="position:relative;float:left;width:105px"/>
			</div>
			<div class="headerShadow"></div>
		</div>
		<div id="utilityPanel" data-dojo-type="dijit.layout.ContentPane" data-dojo-props="splitter:false, region:'leading'" title="UtilityPanel">
			<div id="panelOpener" >
				<div id="serviceList" class="unselected serviceList-tab" style="text-align:center;" tabindex="20" >
				</div>
				<div id="layerList" class="unselected layerList-tab" style="text-align:center;" tabindex="21" >
				</div>
				<div id="baseMap" class="unselected baseMap-tab" style="text-align:center;" tabindex="22" >
				</div>

			</div>
			<div id="serviceListContent" class="panel" style="display:none;">
				<h1 id="h_layers">Found Layers
				</h1>
				<div id="closeServices_button" class="close-button"></div>
				<div id="upSection" style="position:absolute; height:30px; top:48px;">
					<label for="outList_Size" style="font-family: 'Arial';font-size: 12px; ">Found layers list size</label>
					<input  type="number" id="outList_Size" value = "10">
				</div>
				<div id="upSectionButtons" style="position:absolute; top:75px;width:100%">
					<div id="prev-next" style="background-color: #e5e0e0; width:257px; vertical-align:middle;" >
                        <a href='#' id='prevItemsLink' title='Previous results' onclick="updateResultsPage(false)" style="position:absolute; width:60px;display:none">&lsaquo;&lsaquo;Previous</a>
					    <a href='#' id='nextItemsLink' style='position:absolute;left:215px;display:none' title='Next results' onclick="updateResultsPage(true)">Next&rsaquo;&rsaquo;</a>
                    </div>
				</div>
				
				<div id="servicesStack" data-dojo-type="dijit/layout/StackContainer" style="top:48px; display: block; height:70%; width: 100%; overflow: auto;">
					<div id="services-content" >
					</div>
				</div>
				<div id="bottomSection" style="height:30px;">
					<input type="checkbox" id="zoomToLayers" checked="checked">
					<label for="zoomToLayers" style="font-family: 'Arial';font-size: 12px; ">Zoom to layers</label>
					<span tabindex="40" id="runServiceBtn" class="buttonGrey" style="width:150px;"></span>
				</div>
			</div>
			<div id="layerListContent" class="panel" style="display:none;">
				<h1 id="h1">Layers on the Map
				</h1>
				<div id="closeLayers_button" class="close-button"></div>

				<div id="layersStack" data-dojo-type="dijit/layout/StackContainer" style="display: block; height: 90%; width: 100%; overflow: auto;">
					<div id="layers-content" style="height:90%;">
					</div>
				</div>
			</div>
			<div id="baseMapContent" class="panel" style="display:none;">
				<h1 id="h1">Output options
				</h1>
				<div id="closeBase_button" class="close-button"></div>

				<div id="BaseStack" data-dojo-type="dijit/layout/StackContainer" style="display: block; height: 90%; width: 100%; overflow: auto;">
					<div id="base-content" style="height:90%;">
						<div>
							<p><b>Output spatial reference:</b><br>
							<select id="basemap_SR" style="height:30px; width:90%" name="basemap_SR">
								<option value="102100">WGS 1984 Web Mercator Auxiliary Sphere</option>
								<option valu="102113">WGS 1984 Web Mercator</option>
							</select>
							<p><b>Map scale:</b><br>
							<select id="baseMap_scale" data-dojo-type="dijit/form/ComboBox" style="height:30px; width:90%" name="baseMap_scale">
									<option selected="selected" value "-1">From base map</option>
									<option value="1000">1,000</option>
									<option value="10000">10,000</option>
									<option value="24000">24000</option>
									<option value="100000">100,000</option>
									<option value="500000">500,000</option>
									<option value="750000">750,000</option>
									<option value="1000000">1,000,000</option>
									<option value="3000000">3,000,000</option>
									<option value="10000000">10,000,000</option>
							</select>
							<p>
							<div>
							</div>
							<p><b>Output map resolution (dpi):</b><br>
							<input type="number" id="outMap_DPI" value = "300"><br><br>
							<hr>
							<span id = "document_units"><b>Document units:</b> Points</b></span>
							<button id="map_doc_refresh_button">Refresh doc properties</button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div id="mapDiv" data-dojo-type="dijit.layout.ContentPane" data-dojo-props="splitter:false, region:'center'" >
			<div id="map" data-dojo-type="dijit.layout.ContentPane" >
			</div>
		</div>
		<div id="statusPane" data-dojo-type="dijit.layout.ContentPane" data-dojo-props="splitter:false, region:'bottom'">
			<div id="spContent1" >
				<span id="searchStatus" class="statusbar" ></span>
			</div>
			<div id="spContent2" >
				<div id="mapStatus" style="float:left;width:1700px;height:30px;position:relative;">
					<span id="downloadStatus" ></span>
				</div>
			</div>
		</div>
	</div>
</body>

</html>
 